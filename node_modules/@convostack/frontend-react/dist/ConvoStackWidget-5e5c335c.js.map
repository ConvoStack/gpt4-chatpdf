{"version":3,"file":"ConvoStackWidget-5e5c335c.js","sources":["../src/ConvoStackWidget.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { fetchTokens } from \"./api/apiClient\";\nimport App from \"./App\";\nimport { MessageProps } from \"./components/Message\";\nimport { CustomIcons, CustomStyling, UserData } from \"./types\";\n\nexport interface ConvoStackWidgetProps {\n  graphqlUrl: string;\n  websocketUrl: string;\n  workspaceId?: string;\n  userData?: UserData;\n  customStyling?: CustomStyling;\n  icons?: CustomIcons;\n  defaultAgent?: string | null;\n  disableWidget?: boolean;\n  CustomMessage?: React.ComponentType<MessageProps>;\n}\n\nconst ConvoStackWidget: React.FC<ConvoStackWidgetProps> = ({\n  graphqlUrl,\n  websocketUrl,\n  workspaceId,\n  userData,\n  customStyling,\n  icons,\n  defaultAgent,\n  disableWidget = false,\n  CustomMessage,\n}) => {\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetchTokens(graphqlUrl, workspaceId, userData);\n    };\n\n    fetchData()\n      .then(() => {\n        setIsLoading(false);\n      })\n      .catch((error) => {\n        console.error(error);\n        setIsLoading(false);\n      });\n  }, []);\n  return !isLoading ? (\n    <App\n      graphqlUrl={graphqlUrl}\n      websocketUrl={websocketUrl}\n      workspaceId={workspaceId}\n      userData={userData}\n      customStyling={customStyling}\n      icons={icons}\n      defaultAgent={defaultAgent}\n      disableWidget={disableWidget}\n      CustomMessage={CustomMessage}\n    />\n  ) : (\n    <></>\n  );\n};\n\nexport default ConvoStackWidget;\n"],"names":["ConvoStackWidget","graphqlUrl","websocketUrl","workspaceId","userData","customStyling","icons","defaultAgent","disableWidget","CustomMessage","isLoading","setIsLoading","useState","useEffect","fetchTokens","error","jsx","Fragment","App"],"mappings":";;;;;AAkBA,MAAMA,IAAoD,CAAC;AAAA,EACzD,YAAAC;AAAA,EACA,cAAAC;AAAA,EACA,aAAAC;AAAA,EACA,UAAAC;AAAA,EACA,eAAAC;AAAA,EACA,OAAAC;AAAA,EACA,cAAAC;AAAA,EACA,eAAAC,IAAgB;AAAA,EAChB,eAAAC;AACF,MAAM;AACJ,QAAM,CAACC,GAAWC,CAAY,IAAIC,EAAS,EAAI;AAC/C,SAAAC,EAAU,MAAM;AAKJ,KAJQ,YAAY;AACtB,YAAAC,EAAYb,GAAYE,GAAaC,CAAQ;AAAA,IAAA,GAG3C,EACP,KAAK,MAAM;AACV,MAAAO,EAAa,EAAK;AAAA,IAAA,CACnB,EACA,MAAM,CAACI,MAAU;AAChB,cAAQ,MAAMA,CAAK,GACnBJ,EAAa,EAAK;AAAA,IAAA,CACnB;AAAA,EACL,GAAG,CAAE,CAAA,GACGD,IAaJM,gBAAAA,EAAA,IAAAC,YAAA,CAAA,CAAA,IAZFD,gBAAAA,EAAA;AAAA,IAACE;AAAA,IAAA;AAAA,MACC,YAAAjB;AAAA,MACA,cAAAC;AAAA,MACA,aAAAC;AAAA,MACA,UAAAC;AAAA,MACA,eAAAC;AAAA,MACA,OAAAC;AAAA,MACA,cAAAC;AAAA,MACA,eAAAC;AAAA,MACA,eAAAC;AAAA,IAAA;AAAA,EAAA;AAKN;"}